<Window x:Class="BusStationTicketSystem.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ð¿Ñ€Ð¾Ð´Ð°Ð¶Ñƒ ÐºÐ²Ð¸Ñ‚ÐºÑ–Ð² Ð°Ð²Ñ‚Ð¾Ð²Ð¾ÐºÐ·Ð°Ð»Ñƒ" 
        WindowState="Maximized"
        ResizeMode="CanResize"
        Background="#F5F5F5"
        KeyDown="Window_KeyDown">
    
    <DockPanel>
        <!-- ÐœÐµÐ½ÑŽ (Composite + Builder Pattern) -->
        <Menu x:Name="MainMenuBar" DockPanel.Dock="Top" Height="28"/>
        
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
            <Border Grid.Row="0" 
                    Background="#FFFFFF"
                    BorderBrush="#D1D1D1" 
                    BorderThickness="0,0,0,2"
                    Padding="20,16"
                    Margin="0,0,0,20">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="ðŸšŒ" FontSize="28" Margin="0,0,12,0" VerticalAlignment="Center"/>
                    <TextBlock x:Name="TitleText" 
                               Text="Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ð¿Ñ€Ð¾Ð´Ð°Ð¶Ñƒ ÐºÐ²Ð¸Ñ‚ÐºÑ–Ð² Ð°Ð²Ñ‚Ð¾Ð²Ð¾ÐºÐ·Ð°Ð»Ñƒ" 
                               FontSize="24" 
                               FontWeight="SemiBold"
                               Foreground="#323130"
                               VerticalAlignment="Center"/>
                </StackPanel>
            </Border>

            <!-- ÐžÑÐ½Ð¾Ð²Ð½Ð° Ð¾Ð±Ð»Ð°ÑÑ‚ÑŒ -->
            <TabControl x:Name="MainTabControl" Grid.Row="1" Background="#FFFFFF" Padding="0">
                <TabItem Header="ÐŸÑ€Ð¾Ð´Ð°Ð¶ ÐºÐ²Ð¸Ñ‚ÐºÑ–Ð²">
                    <Grid Margin="20">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="20"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Ð›Ñ–Ð²Ð° Ñ‡Ð°ÑÑ‚Ð¸Ð½Ð° - Ð’Ð¸Ð±Ñ–Ñ€ Ð¼Ð°Ñ€ÑˆÑ€ÑƒÑ‚Ñƒ -->
                        <GroupBox Grid.Column="0" Header="Ð’Ð¸Ð±Ñ–Ñ€ Ð¼Ð°Ñ€ÑˆÑ€ÑƒÑ‚Ñƒ">
                            <ScrollViewer VerticalScrollBarVisibility="Auto" 
                                          HorizontalScrollBarVisibility="Disabled"
                                          Padding="0"
                                          Margin="0">
                                <StackPanel Margin="12">
                                    <TextBlock Text="ÐœÐ°Ñ€ÑˆÑ€ÑƒÑ‚:" Margin="0,0,0,6" FontWeight="SemiBold"/>
                                    <ComboBox x:Name="RoutesComboBox" DisplayMemberPath="DisplayName" 
                                              SelectionChanged="RoutesComboBox_SelectionChanged" Margin="0,0,0,16" Height="36"/>
                                    
                                    <TextBlock Text="Ð”Ð°Ñ‚Ð°:" Margin="0,0,0,6" FontWeight="SemiBold"/>
                                    <DatePicker x:Name="DatePicker" Margin="0,0,0,16" Height="36"/>
                                    
                                    <TextBlock Text="ÐšÑ–Ð»ÑŒÐºÑ–ÑÑ‚ÑŒ ÐºÐ²Ð¸Ñ‚ÐºÑ–Ð²:" Margin="0,0,0,6" FontWeight="SemiBold"/>
                                    <TextBox x:Name="QuantityTextBox" Text="1" TextChanged="QuantityTextBox_TextChanged" Margin="0,0,0,16" Height="36">
                                        <TextBox.ToolTip>
                                            <ToolTip Content="Ð’Ð²ÐµÐ´Ñ–Ñ‚ÑŒ ÐºÑ–Ð»ÑŒÐºÑ–ÑÑ‚ÑŒ ÐºÐ²Ð¸Ñ‚ÐºÑ–Ð² (1-10). Ð”Ð»Ñ ÐºÐ¾Ð¶Ð½Ð¾Ð³Ð¾ ÐºÐ²Ð¸Ñ‚ÐºÐ° Ð¿Ð¾Ñ‚Ñ€Ñ–Ð±Ð½Ñ– Ð´Ð°Ð½Ñ– Ð¾ÐºÑ€ÐµÐ¼Ð¾Ð³Ð¾ Ð¿Ð°ÑÐ°Ð¶Ð¸Ñ€Ð°"/>
                                        </TextBox.ToolTip>
                                    </TextBox>
                                    
                                    <TextBlock Text="Ð¡Ð¿Ð¾ÑÑ–Ð± Ð¾Ð¿Ð»Ð°Ñ‚Ð¸:" Margin="0,0,0,6" FontWeight="SemiBold"/>
                                    <ComboBox x:Name="PaymentStrategyComboBox" SelectionChanged="UpdateTotalPrice" Margin="0,0,0,16" Height="36">
                                        <ComboBoxItem Content="Ð“Ð¾Ñ‚Ñ–Ð²ÐºÐ°" Tag="Cash"/>
                                        <ComboBoxItem Content="ÐšÐ°Ñ€Ñ‚ÐºÐ°" Tag="Card"/>
                                        <ComboBoxItem Content="ÐžÐ½Ð»Ð°Ð¹Ð½" Tag="Online"/>
                                    </ComboBox>
                                    
                                    <TextBlock Text="Ð”Ð¾Ð´Ð°Ñ‚ÐºÐ¾Ð²Ñ– Ð¿Ð¾ÑÐ»ÑƒÐ³Ð¸:" Margin="0,0,0,8" FontWeight="SemiBold"/>
                                    <CheckBox x:Name="InsuranceCheckBox" Content="Ð¡Ñ‚Ñ€Ð°Ñ…ÑƒÐ²Ð°Ð½Ð½Ñ (+50 Ð³Ñ€Ð½)" 
                                              Checked="UpdateDecoratorPrice" Unchecked="UpdateDecoratorPrice" Margin="0,0,0,8"/>
                                    <CheckBox x:Name="BaggageCheckBox" Content="Ð‘Ð°Ð³Ð°Ð¶ (+30 Ð³Ñ€Ð½)" 
                                              Checked="UpdateDecoratorPrice" Unchecked="UpdateDecoratorPrice"/>
                                </StackPanel>
                            </ScrollViewer>
                        </GroupBox>

                        <!-- ÐŸÑ€Ð°Ð²Ð° Ñ‡Ð°ÑÑ‚Ð¸Ð½Ð° - Ð†Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ñ–Ñ Ð¿Ñ€Ð¾ Ð¿Ð°ÑÐ°Ð¶Ð¸Ñ€Ñ–Ð² -->
                        <GroupBox Grid.Column="2" Header="Ð†Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ñ–Ñ Ð¿Ñ€Ð¾ Ð¿Ð°ÑÐ°Ð¶Ð¸Ñ€Ñ–Ð²">
                            <ScrollViewer VerticalScrollBarVisibility="Auto" 
                                          HorizontalScrollBarVisibility="Disabled"
                                          Padding="0"
                                          Margin="0">
                                <StackPanel Margin="12">
                                    <!-- Ð¤Ð¾Ñ€Ð¼Ð° Ð´Ð»Ñ Ð¾Ð´Ð½Ð¾Ð³Ð¾ ÐºÐ²Ð¸Ñ‚ÐºÐ° -->
                                    <StackPanel x:Name="SinglePassengerPanel">
                                        <TextBlock Text="Ð¢Ð¸Ð¿ ÐºÐ²Ð¸Ñ‚ÐºÐ°:" Margin="0,0,0,6" FontWeight="SemiBold"/>
                                        <ComboBox x:Name="TicketTypeComboBox" SelectionChanged="UpdateTotalPrice" Margin="0,0,0,16" Height="36">
                                            <ComboBoxItem Content="Ð—Ð²Ð¸Ñ‡Ð°Ð¹Ð½Ð¸Ð¹" Tag="Regular"/>
                                            <ComboBoxItem Content="ÐŸÑ–Ð»ÑŒÐ³Ð¾Ð²Ð¸Ð¹" Tag="Discount"/>
                                            <ComboBoxItem Content="Ð”Ð¸Ñ‚ÑÑ‡Ð¸Ð¹" Tag="Child"/>
                                        </ComboBox>
                                        
                                        <TextBlock Text="ÐŸÑ€Ñ–Ð·Ð²Ð¸Ñ‰Ðµ:" Margin="0,0,0,6" FontWeight="SemiBold"/>
                                        <TextBox x:Name="PassengerLastNameTextBox" Margin="0,0,0,12" Height="36">
                                            <TextBox.ToolTip>
                                                <ToolTip Content="Ð’Ð²ÐµÐ´Ñ–Ñ‚ÑŒ Ð¿Ñ€Ñ–Ð·Ð²Ð¸Ñ‰Ðµ Ð¿Ð°ÑÐ°Ð¶Ð¸Ñ€Ð°. ÐŸÑ€Ð¸ÐºÐ»Ð°Ð´: Ð†Ð²Ð°Ð½Ð¾Ð²"/>
                                            </TextBox.ToolTip>
                                        </TextBox>
                                        
                                        <TextBlock Text="Ð†Ð¼'Ñ:" Margin="0,0,0,6" FontWeight="SemiBold"/>
                                        <TextBox x:Name="PassengerFirstNameTextBox" Margin="0,0,0,12" Height="36">
                                            <TextBox.ToolTip>
                                                <ToolTip Content="Ð’Ð²ÐµÐ´Ñ–Ñ‚ÑŒ Ñ–Ð¼'Ñ Ð¿Ð°ÑÐ°Ð¶Ð¸Ñ€Ð°. ÐŸÑ€Ð¸ÐºÐ»Ð°Ð´: Ð†Ð²Ð°Ð½"/>
                                            </TextBox.ToolTip>
                                        </TextBox>
                                        
                                        <TextBlock Text="ÐŸÐ¾-Ð±Ð°Ñ‚ÑŒÐºÐ¾Ð²Ñ–:" Margin="0,0,0,6" FontWeight="SemiBold"/>
                                        <TextBox x:Name="PassengerMiddleNameTextBox" Margin="0,0,0,16" Height="36">
                                            <TextBox.ToolTip>
                                                <ToolTip Content="Ð’Ð²ÐµÐ´Ñ–Ñ‚ÑŒ Ð¿Ð¾-Ð±Ð°Ñ‚ÑŒÐºÐ¾Ð²Ñ– Ð¿Ð°ÑÐ°Ð¶Ð¸Ñ€Ð°. ÐŸÑ€Ð¸ÐºÐ»Ð°Ð´: Ð†Ð²Ð°Ð½Ð¾Ð²Ð¸Ñ‡"/>
                                            </TextBox.ToolTip>
                                        </TextBox>
                                        
                                        <TextBlock Text="Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½:" Margin="0,0,0,6" FontWeight="SemiBold"/>
                                        <TextBox x:Name="PassengerPhoneTextBox" Margin="0,0,0,16" Height="36">
                                            <TextBox.ToolTip>
                                                <ToolTip Content="Ð’Ð²ÐµÐ´Ñ–Ñ‚ÑŒ Ð½Ð¾Ð¼ÐµÑ€ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ñƒ Ñƒ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ñ–: +380XXXXXXXXX Ð°Ð±Ð¾ 0XXXXXXXXX. ÐŸÑ€Ð¸ÐºÐ»Ð°Ð´: +380501234567"/>
                                            </TextBox.ToolTip>
                                        </TextBox>
                                        
                                        <TextBlock Text="Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚:" Margin="0,0,0,6" FontWeight="SemiBold"/>
                                        <TextBox x:Name="PassengerDocumentTextBox" Margin="0,0,0,20" Height="36">
                                            <TextBox.ToolTip>
                                                <ToolTip Content="Ð’Ð²ÐµÐ´Ñ–Ñ‚ÑŒ ÑÐµÑ€Ñ–ÑŽ Ñ‚Ð° Ð½Ð¾Ð¼ÐµÑ€ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°. ÐŸÑ€Ð¸ÐºÐ»Ð°Ð´: ÐÐ’123456 (Ð¿Ð°ÑÐ¿Ð¾Ñ€Ñ‚) Ð°Ð±Ð¾ 1234567890 (ID-ÐºÐ°Ñ€Ñ‚ÐºÐ°)"/>
                                            </TextBox.ToolTip>
                                        </TextBox>
                                    </StackPanel>
                                    
                                    <!-- Ð¤Ð¾Ñ€Ð¼Ð¸ Ð´Ð»Ñ ÐºÑ–Ð»ÑŒÐºÐ¾Ñ… ÐºÐ²Ð¸Ñ‚ÐºÑ–Ð² -->
                                    <ItemsControl x:Name="MultiplePassengersItemsControl" Visibility="Collapsed">
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <Border BorderBrush="#D1D1D1" 
                                                        BorderThickness="1" 
                                                        CornerRadius="4"
                                                        Padding="12"
                                                        Margin="0,0,0,12"
                                                        Background="#FAFAFA">
                                                    <StackPanel>
                                                        <TextBlock Text="{Binding TicketNumber, StringFormat='ÐšÐ²Ð¸Ñ‚Ð¾Ðº {0}'}" 
                                                                   FontWeight="Bold" 
                                                                   FontSize="16"
                                                                   Foreground="#0078D4"
                                                                   Margin="0,0,0,12"/>
                                                        
                                                        <TextBlock Text="Ð¢Ð¸Ð¿ ÐºÐ²Ð¸Ñ‚ÐºÐ°:" Margin="0,0,0,6" FontWeight="SemiBold"/>
                                                        <ComboBox Tag="{Binding}"
                                                                  SelectionChanged="IndividualTicketType_SelectionChanged"
                                                                  Loaded="ComboBox_Loaded"
                                                                  Margin="0,0,0,12" Height="36">
                                                            <ComboBoxItem Content="Ð—Ð²Ð¸Ñ‡Ð°Ð¹Ð½Ð¸Ð¹" Tag="Regular"/>
                                                            <ComboBoxItem Content="ÐŸÑ–Ð»ÑŒÐ³Ð¾Ð²Ð¸Ð¹" Tag="Discount"/>
                                                            <ComboBoxItem Content="Ð”Ð¸Ñ‚ÑÑ‡Ð¸Ð¹" Tag="Child"/>
                                                        </ComboBox>
                                                        
                                                        <TextBlock Text="ÐŸÑ€Ñ–Ð·Ð²Ð¸Ñ‰Ðµ:" Margin="0,0,0,6" FontWeight="SemiBold"/>
                                                        <TextBox Text="{Binding PassengerLastName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                                                 Margin="0,0,0,12" Height="36">
                                                            <TextBox.ToolTip>
                                                                <ToolTip Content="Ð’Ð²ÐµÐ´Ñ–Ñ‚ÑŒ Ð¿Ñ€Ñ–Ð·Ð²Ð¸Ñ‰Ðµ Ð¿Ð°ÑÐ°Ð¶Ð¸Ñ€Ð°. ÐŸÑ€Ð¸ÐºÐ»Ð°Ð´: Ð†Ð²Ð°Ð½Ð¾Ð²"/>
                                                            </TextBox.ToolTip>
                                                        </TextBox>
                                                        
                                                        <TextBlock Text="Ð†Ð¼'Ñ:" Margin="0,0,0,6" FontWeight="SemiBold"/>
                                                        <TextBox Text="{Binding PassengerFirstName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                                                 Margin="0,0,0,12" Height="36">
                                                            <TextBox.ToolTip>
                                                                <ToolTip Content="Ð’Ð²ÐµÐ´Ñ–Ñ‚ÑŒ Ñ–Ð¼'Ñ Ð¿Ð°ÑÐ°Ð¶Ð¸Ñ€Ð°. ÐŸÑ€Ð¸ÐºÐ»Ð°Ð´: Ð†Ð²Ð°Ð½"/>
                                                            </TextBox.ToolTip>
                                                        </TextBox>
                                                        
                                                        <TextBlock Text="ÐŸÐ¾-Ð±Ð°Ñ‚ÑŒÐºÐ¾Ð²Ñ–:" Margin="0,0,0,6" FontWeight="SemiBold"/>
                                                        <TextBox Text="{Binding PassengerMiddleName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                                                 Margin="0,0,0,12" Height="36">
                                                            <TextBox.ToolTip>
                                                                <ToolTip Content="Ð’Ð²ÐµÐ´Ñ–Ñ‚ÑŒ Ð¿Ð¾-Ð±Ð°Ñ‚ÑŒÐºÐ¾Ð²Ñ– Ð¿Ð°ÑÐ°Ð¶Ð¸Ñ€Ð°. ÐŸÑ€Ð¸ÐºÐ»Ð°Ð´: Ð†Ð²Ð°Ð½Ð¾Ð²Ð¸Ñ‡"/>
                                                            </TextBox.ToolTip>
                                                        </TextBox>
                                                        
                                                        <TextBlock Text="Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½:" Margin="0,0,0,6" FontWeight="SemiBold"/>
                                                        <TextBox Text="{Binding PassengerPhone, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                                                 Margin="0,0,0,12" Height="36">
                                                            <TextBox.ToolTip>
                                                                <ToolTip Content="Ð’Ð²ÐµÐ´Ñ–Ñ‚ÑŒ Ð½Ð¾Ð¼ÐµÑ€ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ñƒ Ñƒ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ñ–: +380XXXXXXXXX Ð°Ð±Ð¾ 0XXXXXXXXX. ÐŸÑ€Ð¸ÐºÐ»Ð°Ð´: +380501234567"/>
                                                            </TextBox.ToolTip>
                                                        </TextBox>
                                                        
                                                        <TextBlock Text="Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚:" Margin="0,0,0,6" FontWeight="SemiBold"/>
                                                        <TextBox Text="{Binding PassengerDocument, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                                                 Margin="0,0,0,0" Height="36">
                                                            <TextBox.ToolTip>
                                                                <ToolTip Content="Ð’Ð²ÐµÐ´Ñ–Ñ‚ÑŒ ÑÐµÑ€Ñ–ÑŽ Ñ‚Ð° Ð½Ð¾Ð¼ÐµÑ€ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°. ÐŸÑ€Ð¸ÐºÐ»Ð°Ð´: ÐÐ’123456 (Ð¿Ð°ÑÐ¿Ð¾Ñ€Ñ‚) Ð°Ð±Ð¾ 1234567890 (ID-ÐºÐ°Ñ€Ñ‚ÐºÐ°)"/>
                                                            </TextBox.ToolTip>
                                                        </TextBox>
                                                    </StackPanel>
                                                </Border>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                    
                                    <Border Background="#E3F2FD" 
                                            BorderBrush="#0078D4" 
                                            BorderThickness="1"
                                            CornerRadius="4"
                                            Padding="16"
                                            Margin="0,20,0,20">
                                        <StackPanel>
                                            <TextBlock Text="Ð—Ð°Ð³Ð°Ð»ÑŒÐ½Ð° Ð²Ð°Ñ€Ñ‚Ñ–ÑÑ‚ÑŒ:" 
                                                       FontSize="14" 
                                                       FontWeight="SemiBold"
                                                       Foreground="#605E5C"
                                                       Margin="0,0,0,8"/>
                                            <TextBlock x:Name="TotalPriceTextBlock" 
                                                       FontSize="28" 
                                                       FontWeight="Bold" 
                                                       Foreground="#0078D4"
                                                       TextAlignment="Left"/>
                                        </StackPanel>
                                    </Border>
                                    
                                    <Button Content="ÐšÑƒÐ¿Ð¸Ñ‚Ð¸ ÐºÐ²Ð¸Ñ‚Ð¾Ðº(Ð¸)" 
                                            Click="BuyTicketButton_Click" 
                                            Height="44" 
                                            FontSize="16"
                                            HorizontalAlignment="Stretch"/>
                                </StackPanel>
                            </ScrollViewer>
                        </GroupBox>
                    </Grid>
                </TabItem>

                <TabItem Header="Ð¡Ð¿Ð¸ÑÐ¾Ðº ÐºÐ²Ð¸Ñ‚ÐºÑ–Ð²">
                    <Grid Margin="20">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <!-- ÐŸÐ¾Ð»Ðµ Ð¿Ð¾ÑˆÑƒÐºÑƒ -->
                        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,12" VerticalAlignment="Center">
                            <TextBlock Text="ÐŸÐ¾ÑˆÑƒÐº Ð¿Ð¾ Ð¿Ñ€Ñ–Ð·Ð²Ð¸Ñ‰Ñƒ:" VerticalAlignment="Center" Margin="0,0,8,0" FontSize="14"/>
                            <TextBox x:Name="SearchLastNameTextBox" 
                                     Width="250" 
                                     Height="32" 
                                     VerticalContentAlignment="Center"
                                     FontSize="14"
                                     TextChanged="SearchLastNameTextBox_TextChanged"
                                     Margin="0,0,8,0"/>
                            <Button Content="ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚Ð¸" 
                                    Click="ClearSearchButton_Click" 
                                    Width="100" 
                                    Height="32"
                                    FontSize="14"/>
                        </StackPanel>
                        
                        <ScrollViewer Grid.Row="1" 
                                      VerticalScrollBarVisibility="Auto" 
                                      HorizontalScrollBarVisibility="Auto"
                                      Margin="0,0,0,12">
                            <DataGrid x:Name="TicketsDataGrid" 
                                      AutoGenerateColumns="False" 
                                      IsReadOnly="False" 
                                      SelectionMode="Single"
                                      SelectionUnit="FullRow"
                                      SelectionChanged="TicketsDataGrid_SelectionChanged"
                                      CellEditEnding="TicketsDataGrid_CellEditEnding"
                                      BeginningEdit="TicketsDataGrid_BeginningEdit"
                                      GridLinesVisibility="Horizontal"
                                      CanUserAddRows="False"
                                      CanUserDeleteRows="False">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="60" IsReadOnly="True"/>
                                    <DataGridTextColumn Header="ÐœÐ°Ñ€ÑˆÑ€ÑƒÑ‚" Binding="{Binding RouteInfo}" Width="250" IsReadOnly="True"/>
                                    <DataGridTextColumn Header="ÐŸÐ°ÑÐ°Ð¶Ð¸Ñ€" Binding="{Binding PassengerName}" Width="200" IsReadOnly="True"/>
                                    <DataGridTextColumn Header="Ð”Ð°Ñ‚Ð°" Binding="{Binding Date, StringFormat='{}{0:dd.MM.yyyy}'}" Width="120" IsReadOnly="True"/>
                                    <DataGridTextColumn Header="Ð’Ð°Ñ€Ñ‚Ñ–ÑÑ‚ÑŒ" Binding="{Binding Price, StringFormat='{}{0:C}'}" Width="130" IsReadOnly="True"/>
                                    <DataGridComboBoxColumn Header="Ð¡Ñ‚Ð°Ñ‚ÑƒÑ" 
                                                             SelectedItemBinding="{Binding Status}" 
                                                             Width="150"
                                                             x:Name="StatusComboBoxColumn">
                                        <DataGridComboBoxColumn.ElementStyle>
                                            <Style TargetType="ComboBox">
                                                <Setter Property="IsReadOnly" Value="False"/>
                                                <Setter Property="BorderThickness" Value="0"/>
                                                <Setter Property="Background" Value="Transparent"/>
                                            </Style>
                                        </DataGridComboBoxColumn.ElementStyle>
                                        <DataGridComboBoxColumn.EditingElementStyle>
                                            <Style TargetType="ComboBox">
                                                <Setter Property="IsEditable" Value="False"/>
                                            </Style>
                                        </DataGridComboBoxColumn.EditingElementStyle>
                                    </DataGridComboBoxColumn>
                                </DataGrid.Columns>
                            </DataGrid>
                        </ScrollViewer>
                        
                        <Grid Grid.Row="2">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                                <TextBlock Text="ID ÐºÐ²Ð¸Ñ‚ÐºÐ°:" VerticalAlignment="Center" Margin="0,0,8,0" FontSize="14"/>
                                <TextBox x:Name="TicketIdTextBox" 
                                         Width="80" 
                                         Height="32" 
                                         VerticalContentAlignment="Center"
                                         FontSize="14"
                                         Margin="0,0,8,0"/>
                                <Button Content="Ð•ÐºÑÐ¿Ð¾Ñ€Ñ‚ÑƒÐ²Ð°Ñ‚Ð¸ Ð¿Ð¾ ID" 
                                        Click="ExportToPdfByIdButton_Click" 
                                        Margin="0,0,8,0" 
                                        Width="160" 
                                        Height="36"
                                        FontSize="14"/>
                                <Button Content="Ð¡ÐºÐ°ÑÑƒÐ²Ð°Ñ‚Ð¸ Ð¿Ð¾ ID" 
                                        Click="CancelTicketByIdButton_Click" 
                                        Margin="0,0,8,0" 
                                        Width="140" 
                                        Height="36"
                                        FontSize="14"/>
                                <Button Content="Ð’Ð¸Ð´Ð°Ð»Ð¸Ñ‚Ð¸ Ð¿Ð¾ ID" 
                                        Click="DeleteTicketByIdButton_Click" 
                                        Margin="0,0,8,0" 
                                        Width="140" 
                                        Height="36"
                                        FontSize="14"/>
                            </StackPanel>
                            
                            <StackPanel Grid.Column="1"
                                        Orientation="Horizontal" 
                                        HorizontalAlignment="Right">
                                <Button Content="ÐžÐ½Ð¾Ð²Ð¸Ñ‚Ð¸ ÑÐ¿Ð¸ÑÐ¾Ðº" 
                                        Click="RefreshTicketsButton_Click" 
                                        Width="160" 
                                        Height="36"
                                        FontSize="14"/>
                            </StackPanel>
                        </Grid>
                    </Grid>
                </TabItem>

                <TabItem Header="ÐœÐ°Ñ€ÑˆÑ€ÑƒÑ‚Ð¸">
                    <Grid Margin="20">
                        <ScrollViewer VerticalScrollBarVisibility="Auto" 
                                      HorizontalScrollBarVisibility="Auto">
                            <DataGrid x:Name="RoutesDataGrid" 
                                      AutoGenerateColumns="False" 
                                      IsReadOnly="True"
                                      GridLinesVisibility="Horizontal">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="Ð’Ñ–Ð´Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð½Ñ" Binding="{Binding Departure}" Width="180"/>
                                    <DataGridTextColumn Header="ÐŸÑ€Ð¸Ð±ÑƒÑ‚Ñ‚Ñ" Binding="{Binding Arrival}" Width="180"/>
                                    <DataGridTextColumn Header="Ð’Ñ–Ð´ÑÑ‚Ð°Ð½ÑŒ (ÐºÐ¼)" Binding="{Binding Distance}" Width="130"/>
                                    <DataGridTextColumn Header="Ð¦Ñ–Ð½Ð°" Binding="{Binding BasePrice, StringFormat='{}{0:C}'}" Width="130"/>
                                    <DataGridTextColumn Header="Ð§Ð°Ñ Ð²Ñ–Ð´Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð½Ñ" Binding="{Binding DepartureTime, StringFormat='{}{0:HH:mm}'}" Width="150"/>
                                </DataGrid.Columns>
                            </DataGrid>
                        </ScrollViewer>
                    </Grid>
                </TabItem>
            </TabControl>

            <!-- Ð¡Ñ‚Ð°Ñ‚ÑƒÑ Ð±Ð°Ñ€ -->
            <Border Grid.Row="2" 
                    Background="#FFFFFF"
                    BorderBrush="#D1D1D1" 
                    BorderThickness="1,1,0,0"
                    Padding="16,10"
                    Margin="0,20,0,0">
                <TextBlock x:Name="StatusTextBlock" 
                           Text="Ð“Ð¾Ñ‚Ð¾Ð²Ð¾" 
                           FontSize="14" 
                           Foreground="#605E5C"
                           VerticalAlignment="Center"/>
            </Border>
        </Grid>
    </DockPanel>
</Window>
